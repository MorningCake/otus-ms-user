databaseChangeLog:
  - logicalFilePath: db/changelog/1.0.1/1.0.1-changelog.yaml
  - changeSet:
      id: 000_import_users_from_csv
      author: MorningCake
      changes:
        - loadData:
            columns:
              - column:
                  header: id
                  name: id
                  type: uuid
              - column:
                  header: second_name
                  name: second_name
                  type: varchar
              - column:
                  header: first_name
                  name: first_name
                  type: varchar
              - column:
                  header: birthdate
                  name: birthdate
                  type: date
              - column:
                  header: city
                  name: city
                  type: varchar
              - column:
                  header: sex
                  name: sex
                  type: varchar
              - column:
                  header: username
                  name: username
                  type: varchar
              - column:
                  header: password
                  name: password
                  type: varchar
            tableName: otus_user
            schemaName: otus_user
            encoding: UTF-8
            separator: ';'
            quotchar: '"'
            file: "db/changelog/1.0.1/csv/people_v2_p1.csv"
  - changeSet:
      id: 000_import_users_from_csv_part2
      author: MorningCake
      changes:
        - loadData:
            columns:
              - column:
                  header: id
                  name: id
                  type: uuid
              - column:
                  header: second_name
                  name: second_name
                  type: varchar
              - column:
                  header: first_name
                  name: first_name
                  type: varchar
              - column:
                  header: birthdate
                  name: birthdate
                  type: date
              - column:
                  header: city
                  name: city
                  type: varchar
              - column:
                  header: sex
                  name: sex
                  type: varchar
              - column:
                  header: username
                  name: username
                  type: varchar
              - column:
                  header: password
                  name: password
                  type: varchar
            tableName: otus_user
            schemaName: otus_user
            encoding: UTF-8
            separator: ';'
            quotchar: '"'
            file: "db/changelog/1.0.1/csv/people_v2_2part.csv"

  - changeSet:
      id: 001_import_user_roles_from_csv
      author: MorningCake
      changes:
        - loadData:
            columns:
              - column:
                  header: user_id
                  name: user_id
                  type: uuid
              - column:
                  header: role
                  name: role
                  type: varchar
            tableName: roles
            schemaName: otus_user
            encoding: UTF-8
            separator: ';'
            quotchar: '"'
            file: "db/changelog/1.0.1/csv/people_v2_roles.csv"