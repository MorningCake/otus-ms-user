LOGGING_LEVEL: info
DB_URL: test
SCHEDULE_TRY_DELAY: 5
SCHEDULE_MAX_TRIES: 2
SCHEDULE_ENABLE: true

spring:
  application:
    name: femida-ms-user
  jackson:
    default-property-inclusion: non_null
  jpa:
    show-sql: false
    hibernate:
      use-new-id-generator-mappings: true
      ddl-auto: validate
    properties:
      hibernate.id.new_generator_mappings: true
      hibernate.globally_quoted_identifiers: true
      hibernate.jdbc.lob.non_contextual_creation: true
      sql.syntax_pgs: true
    database-platform: org.hibernate.dialect.PostgreSQL10Dialect
    open-in-view: true
  datasource:
    hikari:
      pool-name: FemidaMsUserPool
  liquibase:
    default-schema: femida_user
  main:
    allow-circular-references: true
    allow-bean-definition-overriding: true

sberbank:
  scheduler:
    shedlock:
      tableName: shedlock
      defaultLockAtMostFor: 10m
    fixed-delay: 3000 # ms
    init-delay: 5000 # ms
    max-tries: 2
    try-delay: 1 # задержка после неуспешной попытки вызова (в сек)
    enabled: false
    shedlockName: feignOutbox

feign:
  client:
    femida-ms-scc:
      name: femida-ms-scc
      url: localhost:0
      path: /api/scc/latest
    femida-ms-participant:
      name: femida-ms-participant
      url: localhost:1
      path: /api/participant/latest
    femida-ms-cc-statemachine:
      name: femida-ms-cc-statemachine
      url: localhost:2
      path: /api/cc-statemachine/latest
    femida-ms-knowledge:
      name: femida-ms-knowledge
      url: localhost:3
      path: /api/knowledge/latest
    femida-ms-material:
      name: femida-ms-material
      url: localhost:4
      path: /api/material/latest
    femida-ms-audit:
      name: femida-ms-audit
      url: localhost:5
      path: /api/audit/latest